<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Self-Service Metrics: Um hype que já dura anos, mas que pode ter solução</title>

    <meta name="description" content="Talk about many years of hype on self-service metrics and how can we solve it.">
    <meta name="author" content="Hugo Cisneiros (Eitch)">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../reveal.js/css/reveal.css">
    <link rel="stylesheet" href="../common/night-eitch.css" id="theme">
    <!-- <link rel="stylesheet" href="style.css" id="presentation"> -->

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? '../reveal.js/css/print/pdf.css' : '../reveal.js/css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->

  </head>
  <body>

  <div class="reveal">
    <div class="slides">

      <section>
        <h1>Self-Service Metrics</h1><br/>
        <p>Um <strong>hype</strong> que já dura anos...<br/>
        ...mas que pode ter solução!</p><br/>

        <p>
          <small>Por Hugo Cisneiros | <a href="http://www.devin.com.br">http://www.devin.com.br</a><br/>
          Movile: <a href="http://www.movile.com">http://www.movile.com</a></small>
        </p>

      </section>

      <section>
        <section>
          <h1>Antes de tudo:</h1><br/>
          <h1>o que é self-service metrics?</h1><br/>
        </section>

        <section>
          <ul>
            <li>Algum espertinho resolveu batizar métricas personalizadas de self-service metrics.<br/><br/></li>
            <li>Alguém aí lembra da Web 2.0? Ninguém sabe definir direito ou exatamente o que é.<br/><br/></li>
          </ul>
          <p>Na minha interpretação: <strong>é um método onde é fácil colocar várias métricas (dados) sobre
            qualquer coisa (softwares, negócios, estatísticas) e criar gráficos e dashboards
            como quiser (pessoais).</strong></p>
        </section>
      </section>

      <section>
        <section>
          <h1>Por que o <strong>hype</strong>?</h1><br/>
          <p><img src="hype_train.jpg" alt="hype train" width="640" height="401" /></p>
        </section>

        <section>
          <h2>Quem nunca ouviu falar da promessa de self-service metrics?</h2><br/>
          <ul>
            <li>Um painel <i>diabolicamente</i> completo que vai ter todas as informações que você quer;<br/><br/></li>
            <li>Você poderá colocar todos os tipos de dados possíveis;<br/><br/></li>
            <li>Dashboards fáceis de usar, lindos, belos e deliciosos;</li>
          </ul>
        </section>

        <section>
          <h2>Começamos a fazer perguntas...</h2><br/>
          <p>Como posso colocar minhas métricas nesse sistema?</p>
          <p class="fragment"><strong>R: Instale essa biblioteca aqui, tome essa chave
            de API (ou usuário e senha), aponte o servidor para o IP do <i>servidorsinistro</i>
            na porta 23612437263, depois construa a estrutura de dados que mande todos os itens que você
            quer pela biblioteca; mas antes você precisa informar todos os itens para o pessoal
            de suporte configurar no sistema. Depois então configure um scheduler que fique
            mandando essas informações sempre; Ah! Não esqueça também de pedir liberação pro
            Massaranduba da segurança e a a bênção do Goku.
            </strong></p>
        </section>

        <section>
          <h2>E mais aquela perguntinha...</h2><br/>
          <p>E com esses meus dados no sistema, como visualizá-los?</p>
          <p class="fragment"><strong>R: Faça o download do programa MyIncredibleDashboard que só
            funciona no Windows, ou acesse a versão Cloud que custa U$50 por métrica por mês por
            usuário por servidor por aplicação por processador. Depois gaste horas lendo
            guias e tutoriais de como fazer um Hello World inútil no dashboard e ainda ficar feio.
            Ah, e se enjoar tem aquele dashboard feito em PHP que meu sobrinho fez e que
            consulta o banco diretamente, fica muito lindo e personalizado.
            </strong></p>
        </section>

         <section data-background="areyoufuckingkiddingme.jpg" data-background-repeat="repeat" data-background-size="500px">&nbsp;</section>
      </section>

      <section>
        <section>
          <h1>Meu caso na <img src="movile.png" alt="movile logo" width="246" height="70" style="vertical-align: bottom;" class="plain" /></h1><br/>
          <ul>
            <li>Estávamos migrando nosso monitoramento de Nagios para <strong>Zabbix</strong>;<br/><br/></li>
            <li>Cada vez os dados do monitoramento ficavam importantes (não apenas de infraestrutura);<br/><br/></li>
            <li>Muitas métricas de software estavam sendo armazenados no <strong>graphite</strong>.<br/><br/></li>
            <li>Dois colegas foram em Abril de 2016 para a Zabbix Conference LATAM.</li>
          </ul>
        </section>

        <section>
          <h1>Eventos empolgam! Métricas pra tudo!</h1><br/>
          <ul>
            <li>Uma apresentação de <i>Marcio Propp</i> das Lojas Renner nos abriu os olhos;<br/><br/></li>
            <li>Eles utilizavam o Zabbix não apenas para infraestrutura, mas para <strong>indicadores de negócios</strong>;<br/><br/></li>
            <li>As pessoas lá pareciam ter algo parecido com o que chamamos de <strong>self-service metrics</strong>.<br/><br/></li>
            <li>Mas por que que <strong>ninguém fala</strong> como fazem isso exatamente?<br/><br/></li>
          </ul>
        </section>

        <section>
          <h1>Surgiu o desafio</h1><br/>
          <ul>
            <li>Como vamos deixar fácil para todo mundo <strong>colocar os dados</strong>?<br/><br/></li>
            <li>Como vamos deixar fácil, bonito e útil para <strong>visualizar esses dados</strong>?<br/><br/></li>
            <li>Com tudo pronto, como fazemos para as pessoas começarem a usar?</li>
          </ul>
        </section>
      </section>
      <section>

        <section>
          <h1>Passo 1: </h1><br/>
          <p><img src="zabbix.png" alt="Zabbix" width="600" height="147" /></p>
        </section>

        <section>
          <h1><strong>Zabbix</strong> não apenas para alarmística</h1><br/>
          <ul>
            <li>Serve como um agregador de dados e eventos;<br/><br/></li>
            <li>A severidade <strong>Informational</strong> já começa a dizer tudo;<br/><br/></li>
            <li><strong>API</strong> é muito útil para colocar dados programaticamente;<br/><br/></li>
            <li>Sim, eu sei que existem outras soluções (elasticsearch, graphite, etc)... Mas foi essa que escolhemos.</li>
          </ul>
        </section>

        <section>
          <h1>Usuário e grupo específico para coleta de dados e modificação de templates</h1><br/>
          <ul>
            <li>Por exemplo: usuário <strong>checkmetrics</strong>.<br/><br/></li>
            <li>Grupo: <strong>checkmetrics</strong>.<br/><br/></li>
            <li>Permissões: Read-write nos Templates necessários (Ex.: <strong>Template Metrics Sample</strong>)</li>
          </ul>
        </section>

        <section>
          <h1>Como usar?</h1><br/>
          <ul>
            <li>Os templates podem estar em cada máquina de aplicação;<br/><br/></li>
            <li>Ou podem ficar apenas em um host, que coleta todos os dados e agrega tudo em um lugar só.<br/><br/></li>
            <li>Tenho a tendência em <strong>distribuir</strong> os templates em várias máquinas.</li>
          </ul>
        </section>

        <section>
          <p><img src="wecandoit.png" alt="We can do it" width="500" height="633" /></p>
        </section>
      </section>

      <section>
        <section>
          <h1>Passo 2: Coletando as <strong>métricas</strong></h1><br/>
          <p><img src="coletando-metricas.gif" alt="coletando metricas" width="360" height="312" /></p>
        </section>

        <section>
          <h1>Um formato para todos governar: <strong>JSON</strong></h1><br/>
          <ul>
            <li>Todo mundo gosta de <strong>JSON</strong>;<br/><br/></li>
            <li>Todas linguagens das galáxias tem formas de lidar com JSON facilmente;<br/><br/></li>
            <li>É auto-explicativo e super fácil de fazer parse.</li>
          </ul>
        </section>

        <section>
          <h1>Um comando para nos ajudar: <strong>grab_my_metrics.py</strong></h1><br/>
          <ul>
            <li>Aceita qualquer JSON: arquivo local ou URL;<br/><br/></li>
            <li>Converte o JSON para o formato correto antes de enviar pro <strong>Zabbix</strong>;<br/><br/></li>
            <li>Se o item não existir no Zabbix, ele cria automaticamente.</li>
          </ul>
        </section>

        <section data-background="talk-is-cheap-show-me-the-code.jpg" data-background-repeat="repeat" data-background-size="400px">&nbsp;</section>

        <section data-background="ss-grab-my-metrics.png" data-background-size="100% 100%">&nbsp;</section>

        <section>
          <h2>https://github.com/Movile/<br/><strong>grab_my_metrics</strong></h2><br/>
          <ul>
            <li>Quase pronto! Mas já dá pra usar...<br/><br/></li>
            <li>Roadmap na parte de issues do Github;<br/><br/></li>
            <li>Open source - Comecem a usar logo depois do evento!<br/><br/></li>
          </ul>
        </section>
      </section>

      <section>
        <section>
          <h1>Passo 3: <strong>Grafana</strong></h1><br/>
          <p><img src="metrics-is-a-lie.png" alt="metrics is a lie" width="300" height="300" /></p>
        </section>

        <section>
          <h1>Com as métricas no backend, é hora de visualizá-las</h1><br/>
          <ul>
            <li>Grafana é absurdamente lindo e fácil;<br/><br/></li>
            <li>Contém um plugin chamado <strong>grafana-zabbix</strong> que integra totalmente com API do Zabbix;<br/><br/></li>
            <li>Os usuários podem criar e salvar seus próprios dashboards.</li>
          </ul>
        </section>

        <section data-background="ss-grafana.png" data-background-size="100% 100%">&nbsp;</section>

        <section>
          <h1>Instalar é fácil demais</h1><br/>
          <pre class="bash"><code data-trim contenteditable>
yum -y install grafana
grafana-cli plugins install alexanderzobnin-zabbix-app
systemctl start grafana-server
          </code></pre>
        </section>

        <section data-background="ss-grafana-deploys.png" data-background-size="100% 100%">&nbsp;</section>

        <section data-background="jake_eyes_shining.gif" data-background-size="100% 100%">&nbsp;</section>
      </section>

      <section>
        <section>
          <h1>Passo 4: Espalhe o <strong>meme</strong></h1>
          <p><img src="business_cat.png" alt="business cat" width="608" height="600" /></p>
        </section>

        <section>
          <h1>O exemplo é a propaganda mais forte</h1><br/>
          <ol>
            <li>Uma página com o <strong>Quick Start/Guia</strong> de como começar a se servir;<br/><br/></li>
            <li>Pegue uma equipe/projeto cobaia e encha o saco deles pra usar;<br/><br/></li>
            <li>Observe as equipes <strong>invejarem</strong> sua cobaia e começarem a usar também.<br/><br/></li>
            <li>...</li>
            <li>Profit!</li>
          </ol>
        </section>

        <section>
          <h1>Contem comigo...</h1><br/>
          <ul>
            <li>Ultimamente ando muito <strong>carente</strong>;<br/><br/></li>
            <li>Redes sociais e apps de pegação não me ajudam;<br/><br/></li>
            <li>Então <strong>empoderem-se</strong> e me chamem pra ajudar!</li>
          </ul>
        </section>
      </section>

      <section>
        <h1><strong>#caboucheganaoaguentomais</strong></h1><br/>
        <p><img src="cat-nails.gif" alt="cat nails" width="500" height="281" /></p>
        <p>
          <small>Por Hugo Cisneiros | <a href="http://www.devin.com.br">http://www.devin.com.br</a><br/>
          Movile: <a href="http://www.movile.com">http://www.movile.com</a></small>
        </p>
      </section>

    </div>
  </div>

  <script src="../reveal.js/lib/js/head.min.js"></script>
  <script src="../reveal.js/js/reveal.js"></script>

  <script>
    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,

      theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
      transition: Reveal.getQueryHash().transition || 'slide',

      // Optional libraries used to extend on reveal.js
      dependencies: [
        { src: '../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: '../reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: '../reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: '../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: '../reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
        { src: '../reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        // { src: '../reveal.js/plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
        // { src: '../reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
      ]
    });
  </script>

  </body>
</html>
